# Strategy patch for Rolling Update deployment
# Best practices:
# - maxUnavailable: 0 - ensures no capacity loss during update
# - maxSurge: 1 - allows one extra pod during transition
# - terminationGracePeriodSeconds: 30 - graceful shutdown
apiVersion: apps/v1
kind: Deployment
metadata:
  name: not-important
spec:
  strategy:
    type: RollingUpdate
    rollingUpdate:
      # BEST PRACTICE: Zero unavailability during update
      maxUnavailable: 0
      # Allow one extra pod during transition
      maxSurge: 1
  # Minimum time a pod should be ready before considered available
  minReadySeconds: 5
  template:
    spec:
      # Graceful termination for in-flight requests
      terminationGracePeriodSeconds: 30
